---
title: 第 1 部分面试题
description: 第 1 部分面试题
---

## 多态特性

### 谈谈对多态的理解

- 多态的实现效果
    - 多态是在运行期间根据具体对象的类型决定函数调用，同样的调用语句有多种不同的表现形态
- 多态实现的三个必要条件 
    - 有继承、有虚函数（`virtual` ）的重写、有父类的指针（引用）指向子类对象
- 多态的 C++ 实现
   - 使用 `virtual` 关键字，告诉编译器这个函数要支持多态；不是根据指针类型判断如何调用，而是要根据指针所指向的实际对象类型来判断如何调用
- 多态的理论基础
   - 动态联编 Vs 静态联编，根据实际的对象类型来判断重写函数的调用
- 多态的重要意义
   - 多态是设计模式的基础，是框架的基石
- 实现多态的理论基础
  - 函数指针做函数参数
  - 函数指针一般有两种用法（正、反）
- 多态原理的探究
  - 与面试官展开讨论

### 谈谈对重写与重载的理解

- 函数重载
    - 必须在同一个类中进行
    - 子类无法重载父类的函数，父类同名函数将被子类的覆盖
    - 重载是在编译期间根据参数类型、个数和顺序决定函数的调用

- 函数重写
    - 必须发生于父类与子类之间
    - 父类与子类中的函数必须有完全相同的原型
    - 使用 `virtual` 关键字声明之后，能够产生多态（如果不使用 `virtual` 关键字声明，那叫重定义）

### 在父类的构造函数中调用虚函数，能实现多态吗

子类的 `VPTR` 指针是分步完成初始化的，当执行父类的构造函数时，子类 的 `VPTR` 指针指向父类的虚函数表，当父类的构造函数执行完毕后，会把子类的 `VPTR` 指针指向子类的虚函数表。因此，在父类的构造函数中调用虚函数，不能实现多态。

::: tip 提示
- 分析图解可以点击 [这里](../../../../assets/2024/01/cplusplus-polymorphic-1.png) 查看
- 对象在创建的时，由编译器对 `VPTR` 指针进行初始化
- 只有当对象的构造全部完成后，`VPTR` 指针的指向才能最终确定
:::
